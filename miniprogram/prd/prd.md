# 需求文档

## 介绍

心理咨询患者模拟软件是一个专为心理咨询师设计的培训工具，通过模拟真实患者的对话场景，帮助心理咨询师提升沟通技巧和诊断能力。系统通过智能对话引擎模拟不同类型的心理患者，提供多样化的求助场景，并在对话结束后生成专业的评价报告，包括沟通技巧分析、诊断准确性评估和改进建议。

## 需求

### 需求 1

**用户故事：** 作为心理咨询师，我希望能够选择不同类型的患者角色进行对话练习，以便提升针对不同心理问题的处理能力。

#### 验收标准

1. WHEN 用户进入系统 THEN 系统 SHALL 显示可用的患者角色列表
2. WHEN 用户选择特定患者角色 THEN 系统 SHALL 加载该角色的基本信息和对话背景
3. IF 患者角色包含预设的心理问题特征 THEN 系统 SHALL 在对话中体现相应的症状表现
4. WHEN 用户开始对话 THEN 系统 SHALL 初始化对话会话并记录开始时间

### 需求 2

**用户故事：** 作为心理咨询师，我希望能够通过实时对话与模拟患者进行交流，以便练习咨询技巧。

#### 验收标准

1. WHEN 用户发送消息 THEN 系统 SHALL 在3秒内给出患者角色的回复
2. WHEN 系统生成患者回复 THEN 系统 SHALL 保持角色性格和症状特征的一致性
3. IF 对话超过30分钟 THEN 系统 SHALL 提供继续或结束对话的选项
4. WHEN 用户输入内容 THEN 系统 SHALL 保存完整的对话记录到云数据库

### 需求 3

**用户故事：** 作为心理咨询师，我希望在对话结束后获得专业的评价报告，以便了解自己的表现并获得改进建议。

#### 验收标准

1. WHEN 用户结束对话 THEN 系统 SHALL 调用云函数分析对话内容
2. WHEN 分析完成 THEN 系统 SHALL 生成包含沟通技巧、诊断准确性和专业性的评价报告
3. IF 评价报告生成 THEN 系统 SHALL 提供具体的改进建议和学习资源链接
4. WHEN 评价报告生成 THEN 系统 SHALL 将报告保存到用户的个人记录中

### 需求 4

**用户故事：** 作为系统管理员，我希望能够管理患者角色库和对话场景，以便提供丰富的训练内容。

#### 验收标准

1. WHEN 管理员登录 THEN 系统 SHALL 显示角色管理界面
2. WHEN 管理员添加新角色 THEN 系统 SHALL 要求填写角色基本信息、心理特征和对话风格
3. IF 管理员编辑现有角色 THEN 系统 SHALL 保存修改并更新相关对话逻辑
4. WHEN 管理员上传角色资料 THEN 系统 SHALL 将文件存储到云存储并生成访问链接

### 需求 5

**用户故事：** 作为心理咨询师，我希望能够查看历史对话记录和评价报告，以便跟踪自己的进步情况。

#### 验收标准

1. WHEN 用户进入个人中心 THEN 系统 SHALL 显示历史对话列表
2. WHEN 用户选择特定对话记录 THEN 系统 SHALL 展示完整的对话内容和评价报告
3. IF 用户查看多个记录 THEN 系统 SHALL 提供按时间、患者类型等维度的筛选功能
4. WHEN 用户查看进步统计 THEN 系统 SHALL 生成可视化图表展示能力提升趋势

### 需求 6

**用户故事：** 作为心理咨询师，我希望系统能够保证对话内容的隐私性和安全性，以便放心使用进行专业训练。

#### 验收标准

1. WHEN 用户进行对话 THEN 系统 SHALL 对敏感信息进行加密存储
2. WHEN 数据传输 THEN 系统 SHALL 使用HTTPS协议保护数据安全
3. IF 用户请求删除数据 THEN 系统 SHALL 彻底删除相关的对话记录和评价报告
4. WHEN 系统检测到异常访问 THEN 系统 SHALL 记录安全日志并通知管理员

### 需求 7

**用户故事：** 作为心理咨询师，我希望能够获得个性化的学习推荐，以便针对性地提升专业技能。

#### 验收标准

1. WHEN 系统分析用户对话表现 THEN 系统 SHALL 识别用户的薄弱环节
2. WHEN 生成学习推荐 THEN 系统 SHALL 提供相关的理论知识、案例分析和练习建议
3. IF 用户完成推荐学习 THEN 系统 SHALL 更新用户的能力评估模型
4. WHEN 用户查看推荐内容 THEN 系统 SHALL 记录学习进度并调整后续推荐

### 需求 8

**用户故事：** 作为系统用户，我希望能够通过小程序便捷地访问和使用所有功能，以便随时随地进行专业训练。

#### 验收标准

1. WHEN 用户打开小程序 THEN 系统 SHALL 在3秒内完成加载并显示主界面
2. WHEN 用户进行任何操作 THEN 系统 SHALL 提供流畅的交互体验和及时的反馈
3. IF 网络连接不稳定 THEN 系统 SHALL 提供离线模式并同步数据
4. WHEN 用户使用小程序 THEN 系统 SHALL 适配不同屏幕尺寸和设备类型